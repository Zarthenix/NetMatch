@using NetMatch_PT.Models.Enums
@using NetMatch_PT.ViewModels
@model SearchResultVm

@{
    ViewData["Title"] = "Result";
}
    <style>
    .grid-container {
        display: grid;
        grid-template-columns: auto auto auto;
        background-color: #ffffff;
    }

        .grid-item {
            background-color: #ffffff;
            border: 1px solid rgba(0, 0, 0, 0.8);
            padding: 20px;
            font-size: 30px;
            text-align: center;
            max-height: 500px;
            max-width: 500px;
            overflow: auto;
        }
    </style>

<h2 style="text-align:center">@ViewData["result"]</h2>
<div class="container">
    <div class="col-md-12 quickSearch" style="margin-top: 2%;">
        <form class="form-inline" method="get" asp-action="QuickSearch" asp-controller="Search">
            <div class="form-row"> 
                <div class="col">
                    <select asp-for="@Model.SearchVm.TravelType" class="form-control" placeholder="test">
                        <option value="null" selected disabled>Reistype</option>
                        @foreach (int x in Enum.GetValues(typeof(TravelTypes)))
                        {
                            <option value="@x">@Enum.GetName(typeof(TravelTypes), x)</option>
                        }
                    </select>
                </div>
                <div class="col">
                    <select asp-for="@Model.SearchVm.Country" class="form-control">
                        <option value="null" selected disabled>Land</option>
                        @foreach (int x in Enum.GetValues(typeof(Countries)))
                        {
                            <option value="@x">@Enum.GetName(typeof(Countries), x)</option>
                        }
                    </select>
                </div>
                <div class="col">
                    <select asp-for="@Model.SearchVm.Month" class="form-control">
                        <option value="null" selected disabled>Maand</option>
                        @foreach (int x in Enum.GetValues(typeof(Months)))
                        {
                            <option value="@x">@Enum.GetName(typeof(Months), x)</option>
                        }
                    </select>
                </div>
                <input class="btn btn-info" type="submit" value="Zoeken"/>
            </div>
        </form>
    </div>
    <div class="grid-container">
            @foreach (AccommodationDetailVm item in Model.results)
            {
            <div class="grid-item">
                <div class="card mb-3" style="background-color: rgba(77, 138, 235, 0.3);">
                    <a href='@Url.Action("Detail", "Accommodation", new {id = item.Id})' style="text-decoration: none;">
                        <img class="card-img-top" src="data:image/png;base64,@item.Image" alt=@item.Title foto />
                        <div class="card-body">
                            <h5 class="card-title">@item.Title</h5>
                            <p class="card-text"><small class="text-muted">@item.Country.ToString()</small></p>
                            <p class="card-text">@item.Description</p>
                            <p class="card-text">
                                <ul class="list-group">
                                    @foreach (var d in item.DatePrices)
                                    {
                                        <li class="list-group-item">@d.Date - @d.Price</li>
                                    }
                                </ul>
                            </p>
                        </div>
                    </a>
                </div>
            </div>
    }
    </div>
</div>
